<!DOCTYPE html><html lang="en" data-bs-theme="light"><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Pr√°ctica 4 - Fundamentos de Spring Boot - SIS-414 G-2</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="https://unpkg.com/katex@0/dist/katex.min.css" rel="stylesheet">
        <link href="../../styles/admonitions.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
        </style></head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">SIS-414 G-2</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Apuntes</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../apuntes/ASINCRONIA/" class="dropdown-item">Asincronismo con JavaScript</a>
</li>
                                    
<li>
    <a href="../../apuntes/BACKEND/" class="dropdown-item">BACKEND</a>
</li>
                                    
<li>
    <a href="../../apuntes/DOM/" class="dropdown-item">DOM (Document Object Model)</a>
</li>
                                    
<li>
    <a href="../../apuntes/FUNDAMENTOS_REACT/" class="dropdown-item">React</a>
</li>
                                    
<li>
    <a href="../../apuntes/GitGitHub/" class="dropdown-item">Introducci√≥n a Git: Gu√≠a para Principiantes</a>
</li>
                                    
<li>
    <a href="../../apuntes/Introducci%C3%B3nReactjs_Nextjs/" class="dropdown-item">üßë‚Äçüè´ Introducci√≥n a React.js y Next.js</a>
</li>
                                    
<li>
    <a href="../../apuntes/Java%2021%20%2B%20Spring%20Boot%20Backend%20Developer%201e0db4fab681802aadd4d6c9c44a254d/" class="dropdown-item">Java 21 + Spring Boot Backend Developer</a>
</li>
                                    
<li>
    <a href="../../apuntes/MODULOS_ES/" class="dropdown-item">Modulos en ES6</a>
</li>
                                    
<li>
    <a href="../../apuntes/Manipulacion%20y%20Envio%20de%20Formularios/" class="dropdown-item">Manipulaci√≥n y env√≠o de formularios con HTML y JavaScript</a>
</li>
                                    
<li>
    <a href="../../apuntes/NextJs/" class="dropdown-item">Introducci√≥n a Next.js - Las Bases</a>
</li>
                                    
<li>
    <a href="../../apuntes/PETICIONES/" class="dropdown-item">Peticiones HTTP</a>
</li>
                                    
<li>
    <a href="../../apuntes/js/" class="dropdown-item">JAVASCRIPT</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Guides</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../guides/Gu%C3%ADa%20paso%20a%20paso%20para%20usar%20ngrok/" class="dropdown-item">Gu√≠a paso a paso para usar ngrok</a>
</li>
                                    
<li>
    <a href="../../guides/PullRequest/" class="dropdown-item">PullRequest</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Laboratorios</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../laboratorios/Laboratorio%201/" class="dropdown-item">LABORATORIO 1 SIS-414</a>
</li>
                                    
<li>
    <a href="../../laboratorios/Laboratorio%202/" class="dropdown-item">Laboratorio 2</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">Planning</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../planning/planning/" class="dropdown-item">Planning</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown" aria-expanded="false">Practicas</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Practica%200%20-%20Prueba%20de%20Conocimiento/" class="dropdown-item">Practica 0   Prueba de Conocimiento</a>
</li>
                                    
<li>
    <a href="../Practica%201%20-%20Git%20%2B%20GitHub/" class="dropdown-item">Practica 1   Git + GitHub</a>
</li>
                                    
<li>
    <a href="../Practica%202%20-%20Git%20%2B%20GitHub/" class="dropdown-item">Practica 2   Git + GitHub</a>
</li>
                                    
<li>
    <a href="../Practica%203%20-%20Fundamentos%20React/" class="dropdown-item">Pr√°ctica 3 - Fundamentos React</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Pr√°ctica 4 - Fundamentos de Spring Boot</a>
</li>
                                    
<li>
    <a href="../Practica%205%20-%20Fundamentos%20Manipulacion%20del%20DOM%20copy/" class="dropdown-item">Pr√°ctica 5 - Fundamentos Manipulaci√≥n del DOM</a>
</li>
                                    
<li>
    <a href="../Practica%206%20-%20Manipulacion%20de%20Formularios/" class="dropdown-item">Pr√°ctica 6 - Manipulaci√≥n de Formularios</a>
</li>
                                    
<li>
    <a href="../Practica%207%20-%20Fundamentos%20Next.js/" class="dropdown-item">Pr√°ctica 7 - Fundamentos Next.js</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                            <li class="nav-item">
                                <a rel="prev" href="../Practica%203%20-%20Fundamentos%20React/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Practica%205%20-%20Fundamentos%20Manipulacion%20del%20DOM%20copy/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#fundamentos-de-spring-boot" class="nav-link">Fundamentos de Spring Boot</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#objetivos-especificos" class="nav-link">Objetivos espec√≠ficos</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#recursos-para-la-elaboracion-de-la-practica" class="nav-link">Recursos para la elaboraci√≥n de la pr√°ctica</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#requisitos-previos" class="nav-link">Requisitos previos</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#dinamica-de-la-practica" class="nav-link">Din√°mica de la pr√°ctica</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#entregables" class="nav-link">Entregables</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#criterios-de-evaluacion" class="nav-link">Criterios de evaluaci√≥n</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#ejercicios" class="nav-link">Ejercicios</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#ejercicio-1-miniorm-en-java" class="nav-link">Ejercicio 1: üß≠ Mini‚ÄëORM en Java</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#guia-de-laboratorio-orientada-a-arquitectura" class="nav-link">Gu√≠a de laboratorio orientada a arquitectura</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#revisemos-los-conceptos-clave" class="nav-link">Revisemos los conceptos clave</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#resumen-del-enfoque-arquitectonico" class="nav-link">Resumen del enfoque arquitect√≥nico</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#paso-0-organizacion-de-archivos-proyecto-sistema-de-archivos" class="nav-link">Paso 0: Organizaci√≥n de archivos / proyecto (sistema de archivos)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#implementacion-paso-a-paso" class="nav-link">Implementaci√≥n paso a paso</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#paso-1-crear-proyecto-maven" class="nav-link">Paso 1: Crear proyecto Maven</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#paso-2-definir-anotaciones-personalizadas" class="nav-link">Paso 2: Definir anotaciones personalizadas</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#paso-3-definamos-las-entidades-del-dominio-modelos" class="nav-link">Paso 3: Definamos las entidades del dominio (modelos)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#paso-4-creamos-el-repositorio-base-generico" class="nav-link">Paso 4: Creamos el repositorio base gen√©rico</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#5-implementamos-el-repositorio-in-memory" class="nav-link">5: Implementamos el repositorio In-Memory</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#6-implementamos-el-entitymanager-capa-de-orquestacion" class="nav-link">6: Implementamos el EntityManager (capa de orquestaci√≥n)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#7-implementamos-la-capa-de-servicio-logica-de-negocio" class="nav-link">7: Implementamos la capa de servicio (l√≥gica de negocio)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#8-implementamos-la-capa-de-presentacion-cli-demo" class="nav-link">8: Implementamos la capa de presentaci√≥n (CLI demo)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#10-evaluacion-final" class="nav-link">10: Evaluaci√≥n final</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#ejercicio-2-miniorm-con-spring-boot" class="nav-link">Ejercicio 2: üß≠ Mini‚ÄëORM con Spring Boot</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#conclusion" class="nav-link">Conclusi√≥n</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="fundamentos-de-spring-boot"><strong>Fundamentos de Spring Boot</strong><a class="headerlink" href="#fundamentos-de-spring-boot" title="Permanent link">¬∂</a></h1>
<hr>
<h2 id="objetivos-especificos">Objetivos espec√≠ficos<a class="headerlink" href="#objetivos-especificos" title="Permanent link">¬∂</a></h2>
<ul>
<li>Comprender los conceptos b√°sicos de Spring Boot como framework para aplicaciones Java.</li>
<li>Configurar un entorno de desarrollo para proyectos Spring Boot.</li>
<li>Desarrollar una aplicaci√≥n sencilla utilizando las caracter√≠sticas principales de Spring Boot.</li>
<li>Familiarizarse con las herramientas necesarias para el desarrollo moderno en Java.</li>
</ul>
<p>!!! TIP "üíÅ‚Äç‚ôÇÔ∏è Uno de los principales objetivos es:" - Fomentar la practica del aprendisaje autonomo y el uso de recursos en l√≠nea es decir <code>aprender</code> a <code>aprender</code> siguiendo el concepto de aprendizaje <code>autodidacta</code>.</p>
<hr>
<h2 id="recursos-para-la-elaboracion-de-la-practica">Recursos para la elaboraci√≥n de la pr√°ctica<a class="headerlink" href="#recursos-para-la-elaboracion-de-la-practica" title="Permanent link">¬∂</a></h2>
<ul>
<li><a href="https://spring.io/projects/spring-boot">Documentaci√≥n oficial de Spring Boot</a></li>
<li><a href="https://spring.io/guides/gs/spring-boot/">Gu√≠a de inicio r√°pido de Spring Boot</a></li>
<li><a href="https://www.baeldung.com/spring-boot">Tutoriales de Spring Boot en Baeldung</a></li>
<li><a href="https://www.youtube.com/results?search_query=spring+boot">Videos de Spring Boot en YouTube</a></li>
</ul>
<h2 id="requisitos-previos">Requisitos previos<a class="headerlink" href="#requisitos-previos" title="Permanent link">¬∂</a></h2>
<ul>
<li>Conocimientos b√°sicos de Java y programaci√≥n orientada a objetos.</li>
<li>Instalaci√≥n de Java Development Kit (JDK) de java 21 o superior.</li>
<li>Instalaci√≥n de un IDE compatible con Java (Eclipse, IntelliJ IDEA, VSCode).</li>
<li>Instalaci√≥n de Maven o Gradle para la gesti√≥n de dependencias.</li>
<li>Instalaci√≥n de Git para control de versiones.</li>
<li>Sistema operativo: macOS, Windows (incluyendo WSL) o Linux (se recomienda WSL para usuarios de Windows).</li>
</ul>
<h2 id="dinamica-de-la-practica">Din√°mica de la pr√°ctica<a class="headerlink" href="#dinamica-de-la-practica" title="Permanent link">¬∂</a></h2>
<ol>
<li>Configuraci√≥n del entorno de desarrollo para Spring Boot.</li>
<li>Creaci√≥n de un proyecto Spring Boot utilizando Spring Initializr.</li>
<li>Desarrollo de una aplicaci√≥n sencilla que incluya controladores, servicios y repositorios.</li>
</ol>
<h2 id="entregables">Entregables<a class="headerlink" href="#entregables" title="Permanent link">¬∂</a></h2>
<ul>
<li>Esta tarea debe ser realizada de forma individual.</li>
<li>La pr√°ctica debe ser entregada en un repositorio de GitHub.</li>
<li>La practica consta de dos ejercicios:</li>
<li>Ejercicio 1: Mini-ORM en Java (sin Spring Boot)</li>
<li>Ejercicio 2: Mini-ORM con Spring Boot</li>
<li>C√≥digo fuente del proyecto en un repositorio de GitHub, para ello se recomienda trabajar en 2 ramas diferentes, una para cada parte de la practica.</li>
<li>Rama <code>main</code> para es donde debe ir un README.md indicando como le parecio la practica y los conceptos aprendidos.</li>
<li>Rama <code>ejercicio-1</code> para el Ejercicio 1: Mini-ORM en Java (sin Spring Boot) es decir la primera parte de la practica.</li>
<li>Rama <code>ejercicio-2</code> para el Ejercicio 2: Mini-ORM con Spring Boot es decir la segunda parte de la practica.</li>
</ul>
<h2 id="criterios-de-evaluacion">Criterios de evaluaci√≥n<a class="headerlink" href="#criterios-de-evaluacion" title="Permanent link">¬∂</a></h2>
<ul>
<li>Primer ejercicio (Mini-ORM en Java sin Spring Boot): 60%</li>
<li>Estructura del proyecto: 5%</li>
<li>Implementaci√≥n de las anotaciones personalizadas: 5%</li>
<li>Toda la implementaci√≥n: 10%</li>
<li>Evaluaci√≥n primera parte del servicio: 40%</li>
<li>Segundo ejercicio (Mini-ORM con Spring Boot): 40%</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">üíÅ‚Äç‚ôÇÔ∏è Tome en cuneta lo siguiente:</p>
</div>
<p>POR CADA VEZ QUE NO CUPLE LAS INTRUCCIONES DE LA PRACTICA, SE LE RESTARAN PUNTOS EXACTAMENTE 5 PUNTOS.</p>
<h2 id="ejercicios">Ejercicios<a class="headerlink" href="#ejercicios" title="Permanent link">¬∂</a></h2>
<p>Para esta practica, iniciaremos desde los conceptos basicos es decir un antes de Spring Boot y luego avanzaremos a Spring Boot.
Para ello estaremos creando una seria de aplicaciones sencillas que nos permitiran entender los conceptos basicos de Spring Boot.</p>
<h3 id="parte-1-aplicacion-java-simple">Parte 1: Aplicaci√≥n Java Simple<a class="headerlink" href="#parte-1-aplicacion-java-simple" title="Permanent link">¬∂</a></h3>
<p>En esta seccion crearemos una aplicacion Java simple en la cual estaremos revisando los siguientes conceptos:</p>
<ul>
<li>Estructura de un proyecto Java</li>
<li>Clases y objetos</li>
<li>M√©todos y atributos</li>
<li>Manejo de excepciones</li>
<li>Programacion orientada a objetos</li>
<li>Programacion funcional en Java</li>
<li>Uso de librerias externas: <code>Lombok</code></li>
<li>Uso de <code>Maven</code> para la gestion de dependencias</li>
</ul>
<hr>
<h1 id="ejercicio-1-miniorm-en-java">Ejercicio 1: üß≠ Mini‚ÄëORM en Java<a class="headerlink" href="#ejercicio-1-miniorm-en-java" title="Permanent link">¬∂</a></h1>
<h2 id="guia-de-laboratorio-orientada-a-arquitectura">Gu√≠a de laboratorio orientada a arquitectura<a class="headerlink" href="#guia-de-laboratorio-orientada-a-arquitectura" title="Permanent link">¬∂</a></h2>
<p><strong>Objetivo:</strong> Construir un <em>mini‚ÄëORM</em> en Java siguiendo una arquitectura en capas que favorezca orden, testabilidad y evite c√≥digo espagueti. El proyecto usa Maven, Lombok y reflecci√≥n para mapear entidades con anotaciones.</p>
<p><strong>Duraci√≥n sugerida:</strong> 4‚Äì6 horas (puede dividirse en 2 sesiones)</p>
<h2 id="revisemos-los-conceptos-clave">Revisemos los conceptos clave<a class="headerlink" href="#revisemos-los-conceptos-clave" title="Permanent link">¬∂</a></h2>
<ul>
<li><strong>ORM (Object-Relational Mapping):</strong> T√©cnica para mapear objetos en c√≥digo a tablas en bases de datos relacionales, son usados para abstraer la interacci√≥n con una base de datos.</li>
<li><strong>Arquitectura en capas:</strong> Esta arquitetura separa responsabilidades en capas distintas (por ejemplo, presentaci√≥n, negocio, datos) para mejorar la organizaci√≥n y mantenibilidad del c√≥digo.</li>
<li><strong>Maven:</strong> Herramienta de gesti√≥n y construcci√≥n de proyectos Java que maneja dependencias y ciclos de vida del proyecto.</li>
<li><strong>Lombok:</strong> Biblioteca que reduce el c√≥digo boilerplate (constructores, getters/setters) mediante anotaciones.</li>
<li><strong>Reflecci√≥n:</strong> Capacidad de un programa para inspeccionar y modificar su propia estructura en tiempo de ejecuci√≥n.</li>
</ul>
<h2 id="resumen-del-enfoque-arquitectonico">Resumen del enfoque arquitect√≥nico<a class="headerlink" href="#resumen-del-enfoque-arquitectonico" title="Permanent link">¬∂</a></h2>
<p>Usaremos una <strong>arquitectura en capas</strong> (similar a la t√≠pica en backend):</p>
<ul>
<li><code>model</code> (entidades anotadas) ‚Äî responsabilidad: representar datos.</li>
<li><code>repository</code> (repositorios gen√©ricos) ‚Äî responsabilidad: abstracci√≥n de persistencia (In‚ÄëMemory en este laboratorio).</li>
<li><code>service</code> (l√≥gica de negocio) ‚Äî responsabilidad: orquestar operaciones y reglas.</li>
<li><code>core</code> / <code>orm</code> (EntityManager / mapeador) ‚Äî responsabilidad: coordinar mapeo entre objetos y repositorios.</li>
<li><code>app</code> (interfaz CLI / demostraci√≥n) ‚Äî responsabilidad: punto de entrada, interacci√≥n con el usuario.</li>
</ul>
<p>Principios aplicados: <strong>Separaci√≥n de responsabilidades (SRP)</strong>, <strong>Inversi√≥n de dependencias (usar interfaces)</strong>, <strong>peque√±as clases/m√©todos</strong>, evitar estado global mutable.</p>
<p>Definamos algunnos conceptos clave, se menciono de los principios aplicados, estos principios son parte de aquellos principios SOLID, los cuales son:</p>
<ul>
<li><strong>S</strong> de Principio de responsabilidad √∫nica (Single Responsibility Principle): una clase debe tener una, y solo una, raz√≥n para cambiar esto es <strong>separaci√≥n de responsabilidades (SRP)</strong>.</li>
<li><strong>O</strong> de Principio de abierto/cerrado (Open/Closed Principle): las entidades deben estar abiertas para la extensi√≥n, pero cerradas para la modificaci√≥n esto es <strong>Inversi√≥n de dependencias (usar interfaces)</strong>.</li>
<li><strong>L</strong> de Principio de sustituci√≥n de Liskov (Liskov Substitution Principle): los objetos de una clase derivada deben poder reemplazar a los objetos de la clase base sin alterar el comportamiento del programa esto es <strong>peque√±as clases/m√©todos</strong>.</li>
<li><strong>I</strong> de Principio de segregaci√≥n de interfaces (Interface Segregation Principle): es mejor tener muchas interfaces espec√≠ficas en lugar de una interfaz √∫nica y general esto es <strong>evitar estado global mutable</strong>.</li>
<li><strong>D</strong> de Principio de inversi√≥n de dependencias (Dependency Inversion Principle): las dependencias deben ser abstra√≠das, y no depender de implementaciones concretas.</li>
</ul>
<h2 id="paso-0-organizacion-de-archivos-proyecto-sistema-de-archivos">Paso 0: Organizaci√≥n de archivos / proyecto (sistema de archivos)<a class="headerlink" href="#paso-0-organizacion-de-archivos-proyecto-sistema-de-archivos" title="Permanent link">¬∂</a></h2>
<p>Crearemos la siguiente estructura de carpetas y archivos:</p>
<pre class="highlight"><code class="language-plaintext">mini-orm/
‚îú‚îÄ pom.xml
‚îú‚îÄ README.md
‚îî‚îÄ src/
   ‚îî‚îÄ main/
      ‚îî‚îÄ java/
         ‚îî‚îÄ com/miniorm/
            ‚îú‚îÄ annotations/      # @Entity, @Column, @Id
            ‚îú‚îÄ exceptions/       # Excepciones custom
            ‚îú‚îÄ models/           # Clases de dominio (User, Product...) + Lombok
            ‚îú‚îÄ repository/       # Interfaces y repositorios InMemory
            ‚îú‚îÄ core/             # EntityManager, util reflection
            ‚îú‚îÄ service/          # Servicios que usan repositorios
            ‚îî‚îÄ app/              # Main / CLI demo
   ‚îî‚îÄ test/
      ‚îî‚îÄ java/
         ‚îî‚îÄ com/miniorm/
            ‚îî‚îÄ ... (tests unitarios)</code></pre>
<blockquote>
<p>Nota: usar paquete ra√≠z <code>com.miniorm</code> como convenci√≥n del laboratorio.</p>
</blockquote>
<h1 id="implementacion-paso-a-paso">Implementaci√≥n paso a paso<a class="headerlink" href="#implementacion-paso-a-paso" title="Permanent link">¬∂</a></h1>
<h2 id="paso-1-crear-proyecto-maven">Paso 1: Crear proyecto Maven<a class="headerlink" href="#paso-1-crear-proyecto-maven" title="Permanent link">¬∂</a></h2>
<ul>
<li>Inicie <strong>IntelliJ IDEA</strong> (o su IDE favorito).</li>
<li>Cree un nuevo proyecto seleccionando <strong>Maven</strong>.</li>
<li>Configure el <code>GroupId</code> como <code>com.miniorm</code> y el <code>ArtifactId</code> como <code>mini-orm</code>.</li>
<li>Haga clic en <strong>Finish</strong> para crear el proyecto.</li>
<li>Abra el archivo <code>pom.xml</code> y agregue las siguientes dependencias:</li>
</ul>
<pre class="highlight"><code class="language-xml">
&lt;dependencies&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
        &lt;artifactId&gt;lombok&lt;/artifactId&gt;
        &lt;version&gt;1.18.36&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
<ul>
<li>Debe crear la estructura de carpetas mencionada en el paso 0 dentro de <code>src/main/java/com/miniorm/</code>.</li>
</ul>
<hr>
<h2 id="paso-2-definir-anotaciones-personalizadas">Paso 2: Definir anotaciones personalizadas<a class="headerlink" href="#paso-2-definir-anotaciones-personalizadas" title="Permanent link">¬∂</a></h2>
<p>Que son las anotaciones?
Es una forma de agregar metadatos a nuestro c√≥digo, que luego pueden ser procesados en tiempo de compilaci√≥n o en tiempo de ejecuci√≥n. En este caso, usaremos anotaciones para marcar nuestras clases y campos con informaci√≥n relevante para el mapeo ORM.</p>
<p>En esta seccion estaremos creando las anotaciones personalizadas que usaremos para mapear nuestras entidades.</p>
<ul>
<li>Cree la carpeta <code>annotations</code> dentro de <code>com.miniorm</code> si no existe.</li>
<li>
<p>Dentro de <code>annotations</code>, cree los siguientes archivos:</p>
</li>
<li>
<p><code>Entity.java</code></p>
</li>
</ul>
<pre class="highlight"><code class="language-java">package com.miniorm.annotations;

import java.lang.annotation.*;

@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE)
public @interface Entity {
    String tableName();
}</code></pre>
<pre class="highlight"><code>Donde:

- `@Retention(RetentionPolicy.RUNTIME)`: Indica que la anotaci√≥n estar√° disponible en tiempo de ejecuci√≥n mediante reflexi√≥n.
- `@Target(ElementType.TYPE)`: Especifica que esta anotaci√≥n se puede aplicar a clases, interfaces o enumeraciones.
- `public @interface Entity`: Define una nueva anotaci√≥n llamada `Entity`.
- `String tableName()`: Declara un elemento obligatorio `tableName` que debe proporcionarse al usar la anotaci√≥n.</code></pre>
<ol>
<li><code>Column.java</code></li>
</ol>
<pre class="highlight"><code class="language-java">package com.miniorm.annotations;

import java.lang.annotation.*;

@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.FIELD) // Indica que esta anotaci√≥n se aplica a campos (atributos)
public @interface Column {
    String name();
}</code></pre>
<ol>
<li><code>Id.java</code></li>
</ol>
<p>Ahora es tu turno, crea el archivo <code>Id.java</code> dentro de la carpeta <code>annotations</code> siguiendo el mismo formato que las anteriores. Recuerda que esta anotaci√≥n se aplicar√° a campos (atributos) y no a clases.</p>
<ol>
<li><code>GeneratedValue.java</code></li>
</ol>
<pre class="highlight"><code class="language-java">package com.miniorm.annotations;

import com.miniorm.enums.GenerationType;

import  java.lang.annotation.*;

@Retention(RetentionPolicy.RUNTIME)
@Target({ElementType.FIELD, ElementType.METHOD})
public @interface GeneratedValue {
    GenerationType strategy() default GenerationType.AUTO_INCREMENT;
}
</code></pre>
<pre class="highlight"><code>Crea la carpeta `enums` dentro de `com.miniorm` si no existe.
Dentro de `enums`, cree el siguiente archivo:</code></pre>
<ol>
<li><code>GenerationType.java</code></li>
</ol>
<pre class="highlight"><code class="language-java">package com.miniorm.enums;

public enum GenerationType {
    TABLE,
    SEQUENCE,
    IDENTITY,
    UUID,
    AUTO_INCREMENT
}</code></pre>
<hr>
<h2 id="paso-3-definamos-las-entidades-del-dominio-modelos">Paso 3: Definamos las entidades del dominio (modelos)<a class="headerlink" href="#paso-3-definamos-las-entidades-del-dominio-modelos" title="Permanent link">¬∂</a></h2>
<p>Que son las entidades del dominio (modelos)?
Son las clases que representan los datos que manejaremos en nuestra aplicaci√≥n. Cada entidad corresponde a una tabla en la base de datos y sus atributos corresponden a las columnas de esa tabla.</p>
<p>En esta seccion estaremos creando las entidades del dominio que usaremos en nuestra aplicacion.</p>
<ul>
<li>Cree la carpeta <code>models</code> dentro de <code>com.miniorm</code> si no existe.</li>
<li>
<p>Dentro de <code>models</code>, cree los siguientes archivos:</p>
</li>
<li>
<p><code>User.java</code></p>
</li>
</ul>
<pre class="highlight"><code class="language-java">package com.miniorm.models;

import com.miniorm.annotations.*;
import com.miniorm.enums.GenerationType;
import lombok.*;
import java.time.LocalDateTime;
import java.util.UUID;

@NoArgsConstructor
@AllArgsConstructor
@Getter
@Setter
@Entity(tableName = "users")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.UUID)
    @Column(name = "id")
    public UUID id;
    @Column(name = "name")
    private String name;
    @Column(name = "email")
    private String email;
    @Column(name = "password")
    private String password;
    @Column(name = "created_at")
    private LocalDateTime createdAt;
    @Column(name = "updated_at")
    private LocalDateTime updatedAt;

    @Override
    public String toString() {
        return
                """
                User {
                    id='%s',
                    name='%s',
                    email='%s',
                    password='%s',
                    createdAt='%s',
                    updatedAt='%s'
                }""".formatted(id, name, email, password, createdAt, updatedAt);
    }
}
</code></pre>
<p>!!! warning "‚ö†Ô∏è Investigue como funcionan las relaciones entre entidades en JPA y como se implementan en Spring Data JPA" - Trata de implementar una relaci√≥n entre dos entidades, por ejemplo, un <code>Estudiante</code> puede estar inscrito en muchos <code>Course</code> y un <code>Course</code> puede tener muchos <code>Estudiante</code> (relaci√≥n muchos a muchos). - Investiga las anotaciones <code>@OneToMany</code>, <code>@ManyToOne</code>, <code>@ManyToMany</code> y <code>@OneToOne</code> y trata de replicarlas e implementarlas en el proyecto.</p>
<p>Me gustaria que investiguee acerca de como funciona esta clase, para ello le dejo las siguientes preguntas que le ayudaran a entender el codigo:</p>
<ol>
<li>
<p>¬øQu√© hace la anotaci√≥n <code>@Entity</code> y qu√© significa el atributo <code>tableName</code>?</p>
</li>
<li>
<p>La anotaci√≥n <code>@Entity</code> indica que la clase es una entidad JPA y se mapear√° a una tabla en la base de datos. El atributo <code>tableName</code> especifica el nombre de la tabla en la base de datos a la que se mapear√° esta entidad, en este caso, la tabla se llamar√° "users".</p>
</li>
<li>
<p>¬øCu√°l es el prop√≥sito de la anotaci√≥n <code>@Id</code> y c√≥mo se usa en esta clase?</p>
</li>
<li>
<p>La anotaci√≥n <code>@Id</code> se utiliza para marcar el campo que actuar√° como la clave primaria de la entidad. En esta clase, el campo <code>id</code> est√° anotado con <code>@Id</code>, lo que significa que ser√° el identificador √∫nico para cada instancia de la entidad <code>User</code> en la base de datos.</p>
</li>
<li>
<p>¬øQu√© hace la anotaci√≥n <code>@GeneratedValue</code> y qu√© significa el atributo <code>strategy</code>?</p>
</li>
<li>
<p>La anotaci√≥n <code>@GeneratedValue</code> indica que el valor del campo anotado ser√° generado autom√°ticamente por el sistema. El atributo <code>strategy</code> especifica la estrategia de generaci√≥n del valor. En este caso, se utiliza <code>GenerationType.UUID</code>, lo que significa que el valor del campo <code>id</code> ser√° generado como un UUID (Identificador Universalmente √önico) autom√°ticamente cuando se cree una nueva instancia de <code>User</code>.</p>
</li>
<li>
<p>¬øC√≥mo se usan las anotaciones <code>@Column</code> y qu√© informaci√≥n proporcionan?</p>
</li>
<li>
<p>La anotaci√≥n <code>@Column</code> se utiliza para mapear un campo de la clase a una columna espec√≠fica en la tabla de la base de datos. Proporciona informaci√≥n sobre el nombre de la columna en la base de datos mediante el atributo <code>name</code>. Por ejemplo, el campo <code>name</code> est√° mapeado a la columna "name" en la tabla "users".</p>
</li>
<li>
<p>¬øQu√© papel juegan las anotaciones de Lombok (<code>@NoArgsConstructor</code>, <code>@AllArgsConstructor</code>, <code>@Getter</code>, <code>@Setter</code>) en esta clase?</p>
</li>
<li>
<p>Las anotaciones de Lombok simplifican la generaci√≥n de c√≥digo repetitivo (boilerplate) en la clase: - <code>@NoArgsConstructor</code> genera un constructor sin argumentos. - <code>@AllArgsConstructor</code> genera un constructor con todos los argumentos. - <code>@Getter</code> genera m√©todos getter para todos los campos. - <code>@Setter</code> genera m√©todos setter para todos los campos.
  Esto reduce la cantidad de c√≥digo boilerplate que el desarrollador tiene que escribir manualmente.</p>
</li>
<li>
<p>¬øQu√© tipo de datos se utilizan para los atributos <code>id</code>, <code>createdAt</code> y <code>updatedAt</code>, y por qu√© son apropiados para esos campos?</p>
</li>
<li>
<p>El atributo <code>id</code> utiliza el tipo de datos <code>UUID</code>, que es apropiado para claves primarias porque proporciona un identificador √∫nico y dif√≠cil de predecir, lo que es √∫til en sistemas distribuidos. Los atributos <code>createdAt</code> y <code>updatedAt</code> utilizan el tipo de datos <code>LocalDateTime</code>, que es adecuado para almacenar marcas de tiempo sin zona horaria, permitiendo registrar cu√°ndo se cre√≥ y actualiz√≥ la entidad respectivamente.</p>
</li>
<li>
<p>¬øC√≥mo funciona el m√©todo <code>toString</code> y qu√© informaci√≥n devuelve sobre la instancia de <code>User</code>, y qu√© ventajas tiene usar <code>String.format</code> en este contexto?</p>
</li>
<li>
<p>El m√©todo <code>toString</code> devuelve una representaci√≥n en forma de cadena de la instancia de <code>User</code>, mostrando los valores de sus atributos en un formato legible. Utiliza un bloque de texto multil√≠nea (text block) para estructurar la salida de manera clara. La ventaja de usar <code>String.format</code> (o en este caso, el m√©todo <code>formatted</code> de Java 15+) es que permite insertar los valores de los atributos directamente en la cadena utilizando marcadores de posici√≥n (<code>%s</code>), lo que mejora la legibilidad y facilita el mantenimiento del c√≥digo al separar la estructura del texto de los datos din√°micos.</p>
</li>
</ol>
<h2 id="paso-4-creamos-el-repositorio-base-generico">Paso 4: Creamos el repositorio base gen√©rico<a class="headerlink" href="#paso-4-creamos-el-repositorio-base-generico" title="Permanent link">¬∂</a></h2>
<p>Que es un repositorio?</p>
<p>Es una capa de abstracci√≥n que maneja la persistencia de datos. Proporciona m√©todos para realizar operaciones CRUD (Crear, Leer, Actualizar, Eliminar) sobre las entidades sin exponer los detalles de c√≥mo se almacenan los datos.</p>
<p>Que es un generico (generic)?</p>
<p>Es una caracter√≠stica de Java que permite definir clases, interfaces y m√©todos con tipos de datos parametrizados. Esto permite crear c√≥digo m√°s flexible y reutilizable, ya que se puede trabajar con diferentes tipos de datos sin necesidad de duplicar c√≥digo.</p>
<p>En esta seccion estaremos creando el repositorio base generico que usaremos en nuestra aplicacion.</p>
<pre class="highlight"><code>- Cree la carpeta `repository` dentro de `com.miniorm` si no existe.
- Dentro de `repository`, cree los siguientes archivos:</code></pre>
<ol>
<li><code>GenericRepository.java</code></li>
</ol>
<pre class="highlight"><code class="language-java">package com.miniorm.core;

import java.util.List;
import java.util.Map;
import java.util.Optional;

public interface GenericRepository&lt;ID, T&gt; {
    T save(ID id, T entity);
    Optional&lt;T&gt; findById(ID id, Object o);
    T update(ID id, T entity);
    Boolean delete(ID id, T entity);
    List&lt;Map&lt;ID, T&gt;&gt; findAll();
}</code></pre>
<p>Que esta haciendo este codigo?</p>
<ul>
<li><code>public interface GenericRepository&lt;T, ID&gt;</code>: Define una interfaz gen√©rica llamada <code>GenericRepository</code> con dos par√°metros de tipo: <code>T</code> (tipo de entidad) e <code>ID</code> (tipo de identificador).</li>
<li><code>T save(T entity)</code>: Declara un m√©todo para guardar una entidad del tipo <code>T</code>.</li>
<li><code>Optional&lt;T&gt; findById(ID id)</code>: Declara un m√©todo para buscar una entidad por su identificador del tipo <code>ID</code>, devolviendo un <code>Optional</code> que puede contener la entidad o estar vac√≠o si no se encuentra.</li>
<li><code>T update(T entity)</code>: Declara un m√©todo para actualizar una entidad del tipo <code>T</code>.</li>
<li><code>Boolean delete(T entity)</code>: Declara un m√©todo para eliminar una entidad del tipo <code>T</code>, devolviendo un booleano que indica si la eliminaci√≥n fue exitosa.</li>
<li><code>List&lt;T&gt; findAll()</code>: Declara un m√©todo para obtener una lista de todas las entidades del tipo <code>T</code>.</li>
</ul>
<p>Este repositorio es una interfaz gen√©rica que define operaciones CRUD b√°sicas para cualquier tipo de entidad y su identificador, permitiendo la reutilizaci√≥n del c√≥digo para diferentes entidades en la aplicaci√≥n.</p>
<h2 id="5-implementamos-el-repositorio-in-memory">5: Implementamos el repositorio In-Memory<a class="headerlink" href="#5-implementamos-el-repositorio-in-memory" title="Permanent link">¬∂</a></h2>
<p>Que es un repositorio In-Memory?
Es una implementaci√≥n de un repositorio que almacena los datos en la memoria del programa en lugar de una base de datos persistente. Esto es √∫til para pruebas, desarrollo r√°pido o aplicaciones simples donde no se requiere almacenamiento a largo plazo. Es decir, esta clase servira como una base de datos en memoria para almacenar nuestras entidades.</p>
<p>En esta seccion estaremos creando el repositorio In-Memory que usaremos en nuestra aplicacion.</p>
<ul>
<li>
<p>Dentro de la carpeta <code>core</code>, cree el siguiente archivo:</p>
</li>
<li>
<p><code>InMemoryRepository.java</code> y copie el siguiente codigo:</p>
</li>
</ul>
<pre class="highlight"><code class="language-java">package com.miniorm.core;

import com.miniorm.annotations.Id;
import java.lang.reflect.Field;
import java.util.*;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.atomic.AtomicInteger;

public class InMemoryRepository &lt;ID, T&gt; implements GenericRepository&lt;ID, T&gt; {

    private final Class&lt;T&gt; entityClass;
    private final Map&lt;Object, List&lt;Map&lt;ID, T&gt;&gt;&gt; storage = new ConcurrentHashMap&lt;&gt;(); // Thread-safe map for in-memory storage
    private final AtomicInteger sequence = new AtomicInteger(1); // For generating unique IDs if needed
    private Field idField;

    public InMemoryRepository(Class&lt;T&gt; entityClass) {
        this.entityClass = entityClass;
        for (Field field : this.entityClass.getDeclaredFields()) {
            if (field.isAnnotationPresent(Id.class)) {
                field.setAccessible(true);
                this.idField = field;
                break;
            }
        }
        if (this.idField == null) {
            throw new IllegalArgumentException("No @Id field found in class " + entityClass.getName());
        }
    }

    private Object getId(T entity) {
        try {
            return idField.get(entity);
        } catch (IllegalAccessException e) {
            throw new RuntimeException("Failed to access ID field", e);
        }
    }

    private void setIdValue(T entity, Object id) {
        try {
            idField.set(entity, id);
        } catch (IllegalAccessException e) {
            throw new RuntimeException("Failed to set ID field", e);
        }
    }

    @Override
    public T save(ID id,T entity) {
        Object entityClassId = getId(entity);
        if (id == null || (id instanceof Integer &amp;&amp; ((Integer) id) == 0)) {
            setIdValue(entity, sequence.getAndIncrement());
        }
        if (!storage.containsKey(entityClassId)) {
            storage.put(entityClassId, new ArrayList&lt;&gt;());
        }
        assert id != null;
        storage.get(entityClassId).add(Map.of(id, entity));
        return entity;
    }

    @Override
    public Optional&lt;T&gt; findById(ID id, Object o) {
        return storage.get(o).stream()
                .map(m -&gt; m.get(id))
                .filter(Objects::nonNull)
                .findFirst();
    }

    @Override
    public List&lt;Map&lt;ID, T&gt;&gt; findAll() {
        List&lt;Map&lt;ID, T&gt;&gt; all = new ArrayList&lt;&gt;();
        for (List&lt;Map&lt;ID, T&gt;&gt; maps : storage.values()) {
            all.addAll(maps);
        }
        return all;
    }

    @Override
    public Boolean delete(ID id, T entity) {
        return storage.remove(entity) != null;
    }

    @Override
    public T update(ID id, T entity) {
        return storage.put(getId(entity), List.of(Map.of(id, entity))) != null ? entity : null;
    }
}</code></pre>
<p><strong>Notas importantes:</strong></p>
<ul>
<li>Aqu√≠ usamos reflexi√≥n para encontrar el campo anotado con <code>@Id</code> y asignar ids autom√°ticos (secuencia simple).</li>
<li><code>ConcurrentHashMap</code> ofrece seguridad b√°sica en concurrencia.</li>
</ul>
<p><strong>Preguntas para entender el c√≥digo:</strong></p>
<p>Ahora tu tarea es entender que es lo que hace este codigo, para ello te dejo una una serie de preguntas que te ayudaran a entender el codigo:</p>
<ol>
<li>
<p>¬øQu√© hace la clase <code>InMemoryRepository</code> y qu√© interfaces implementa?</p>
</li>
<li>
<p>La clase <code>InMemoryRepository</code> es una implementaci√≥n gen√©rica de un repositorio que almacena entidades en memoria utilizando un mapa concurrente (<code>ConcurrentHashMap</code>). Implementa la interfaz <code>GenericRepository</code>, lo que significa que proporciona m√©todos para realizar operaciones CRUD (Crear, Leer, Actualizar, Eliminar) sobre las entidades.</p>
</li>
<li>
<p>¬øCu√°l es el prop√≥sito del mapa <code>storage</code> y c√≥mo se utiliza?</p>
</li>
<li>
<p>El mapa <code>storage</code> es una estructura de datos que almacena las entidades en memoria. La clave del mapa es el identificador de la entidad, y el valor es una lista de mapas que contienen pares de identificador y entidad. Este mapa se utiliza para guardar, buscar, actualizar y eliminar entidades en memoria.</p>
</li>
<li>
<p>¬øC√≥mo se genera un ID √∫nico para las entidades si no se proporciona uno?</p>
</li>
<li>
<p>Si no se proporciona un ID al guardar una entidad (es decir, si el ID es nulo o cero), se genera un ID √∫nico utilizando un <code>AtomicInteger</code> llamado <code>sequence</code>. Este entero se incrementa autom√°ticamente cada vez que se guarda una nueva entidad sin ID, asegurando que cada entidad tenga un identificador √∫nico.</p>
</li>
<li>
<p>¬øQu√© hace el m√©todo <code>getId</code> y c√≥mo accede al campo ID de una entidad?</p>
</li>
<li>
<p>El m√©todo <code>getId</code> utiliza reflexi√≥n para acceder al campo anotado con <code>@Id</code> en la entidad. Intenta obtener el valor del campo ID de la entidad pasada como argumento y lo devuelve. Si no puede acceder al campo debido a restricciones de acceso, lanza una excepci√≥n.</p>
</li>
<li>
<p>¬øC√≥mo funciona el m√©todo <code>save</code> y qu√© hace si el ID es nulo o cero?</p>
</li>
<li>
<p>El m√©todo <code>save</code> guarda una entidad en el repositorio. Si el ID proporcionado es nulo o cero, genera un ID √∫nico utilizando la secuencia. Luego, verifica si ya existe una entrada en el mapa <code>storage</code> para el ID de la entidad; si no existe, crea una nueva lista para ese ID. Finalmente, agrega la entidad al mapa bajo su ID correspondiente y devuelve la entidad guardada.</p>
</li>
<li>
<p>¬øQu√© hace el m√©todo <code>findById</code> y c√≥mo busca una entidad por su ID?</p>
</li>
<li>
<p>El m√©todo <code>findById</code> busca una entidad en el repositorio utilizando su ID. Toma el ID y un objeto como par√°metros. Busca en el mapa <code>storage</code> la lista de mapas asociada al ID proporcionado, luego itera sobre esa lista para encontrar y devolver la entidad correspondiente al ID.</p>
</li>
<li>
<p>¬øC√≥mo funciona el m√©todo <code>findAll</code> y qu√© devuelve?</p>
</li>
<li>
<p>El m√©todo <code>findAll</code> recopila todas las entidades almacenadas en el repositorio y las devuelve como una lista de mapas. Itera sobre todas las listas de mapas en el mapa <code>storage</code>, agregando cada mapa a una lista final que se devuelve al final del m√©todo.</p>
</li>
<li>
<p>¬øQu√© hace el m√©todo <code>delete</code> y c√≥mo elimina una entidad del almacenamiento?</p>
</li>
<li>
<p>El m√©todo <code>delete</code> elimina una entidad del repositorio utilizando su ID y la entidad misma. Intenta eliminar la entrada correspondiente en el mapa <code>storage</code> y devuelve un booleano que indica si la eliminaci√≥n fue exitosa (es decir, si la entidad exist√≠a y fue eliminada).</p>
</li>
<li>
<p>¬øC√≥mo funciona el m√©todo <code>update</code> y qu√© hace si la entidad no existe en el almacenamiento?</p>
</li>
<li>
<p>El m√©todo <code>update</code> actualiza una entidad existente en el repositorio utilizando su ID. Intenta reemplazar la lista de mapas asociada al ID de la entidad con una nueva lista que contiene la entidad actualizada. Si la entidad exist√≠a y fue actualizada, devuelve la entidad; de lo contrario, devuelve nulo.</p>
</li>
</ol>
<h2 id="6-implementamos-el-entitymanager-capa-de-orquestacion">6: Implementamos el <code>EntityManager</code> (capa de orquestaci√≥n)<a class="headerlink" href="#6-implementamos-el-entitymanager-capa-de-orquestacion" title="Permanent link">¬∂</a></h2>
<p>Dentro del paquete <code>com.miniorm.core</code> es decir dentro de la carpeta <code>core</code>, cree el siguiente archivo:</p>
<ol>
<li><code>EntityManager.java</code> y copie el siguiente codigo:</li>
</ol>
<pre class="highlight"><code class="language-java">package com.miniorm.core;

public class EntityManager {
    public &lt;ID, T&gt; GenericRepository&lt;ID, T&gt; getRepository(Class&lt;T&gt; clazz) {
        return new InMemoryRepository&lt;&gt;(clazz);
    }
}</code></pre>
<p><strong>Responsabilidad:</strong> ofrecer repositorios a la capa de servicio; punto √∫nico para cambiar la estrategia de persistencia.</p>
<p><strong>Preguntas para entender el c√≥digo:</strong></p>
<ol>
<li>
<p>¬øQu√© hace el m√©todo <code>getRepository</code> y qu√© par√°metros recibe?</p>
</li>
<li>
<p>El m√©todo <code>getRepository</code> es un m√©todo gen√©rico que recibe como par√°metro una clase (<code>Class&lt;T&gt; clazz</code>) y devuelve una instancia de <code>GenericRepository&lt;ID, T&gt;</code>. Este m√©todo crea y devuelve un nuevo repositorio en memoria (<code>InMemoryRepository</code>) para la clase proporcionada.</p>
</li>
<li>
<p>¬øQu√© tipo de repositorio devuelve y c√≥mo se instancia?</p>
</li>
<li>
<p>Devuelve un repositorio gen√©rico (<code>GenericRepository&lt;ID, T&gt;</code>) que es una instancia de <code>InMemoryRepository&lt;ID, T&gt;</code>. Se instancia pasando la clase proporcionada (<code>clazz</code>) al constructor de <code>InMemoryRepository</code>.</p>
</li>
<li>
<p>¬øC√≥mo se utiliza el <code>EntityManager</code> en la arquitectura general del proyecto?</p>
</li>
<li>
<p>El <code>EntityManager</code> act√∫a como una capa de orquestaci√≥n que proporciona repositorios a la capa de servicio. Permite a los servicios obtener repositorios espec√≠ficos para las entidades sin preocuparse por los detalles de implementaci√≥n del repositorio. Esto facilita la gesti√≥n de la persistencia y permite cambiar la estrategia de almacenamiento (por ejemplo, cambiar de un repositorio en memoria a uno basado en una base de datos) sin afectar la l√≥gica de negocio.</p>
</li>
<li>
<p>¬øQu√© ventajas ofrece tener un <code>EntityManager</code> en lugar de instanciar repositorios directamente en los servicios?</p>
</li>
<li>
<p>Tener un <code>EntityManager</code> ofrece varias ventajas:</p>
</li>
<li><strong>Abstracci√≥n:</strong> Los servicios no necesitan conocer los detalles de implementaci√≥n de los repositorios, lo que reduce el acoplamiento entre capas.</li>
<li><strong>Flexibilidad:</strong> Permite cambiar la estrategia de persistencia (por ejemplo, cambiar a una base de datos real) sin modificar la l√≥gica de negocio en los servicios.</li>
<li><strong>Centralizaci√≥n:</strong> Proporciona un punto √∫nico para gestionar la creaci√≥n y configuraci√≥n de repositorios, facilitando el mantenimiento y la evoluci√≥n del c√≥digo.</li>
<li><strong>Reutilizaci√≥n:</strong> Facilita la reutilizaci√≥n del c√≥digo al permitir que m√∫ltiples servicios compartan la misma l√≥gica para obtener repositorios.</li>
</ol>
<h2 id="7-implementamos-la-capa-de-servicio-logica-de-negocio">7: Implementamos la capa de servicio (l√≥gica de negocio)<a class="headerlink" href="#7-implementamos-la-capa-de-servicio-logica-de-negocio" title="Permanent link">¬∂</a></h2>
<p>Dentro de la carpeta <code>service</code>, cree el siguiente archivo:</p>
<ol>
<li><code>UserService.java</code> y copie el siguiente codigo:</li>
</ol>
<pre class="highlight"><code class="language-java">package com.miniorm.service;

import com.miniorm.core.GenericRepository;
import com.miniorm.dto.RegisterUserDto;
import com.miniorm.models.User;

import java.sql.Timestamp;
import java.util.UUID;

public class UserService {
    private final GenericRepository&lt;UUID, User&gt; userRepository;

    public UserService(GenericRepository&lt;UUID, User&gt; userRepository) {
        this.userRepository = userRepository;
    }

    public User createUser(RegisterUserDto userDto) {
        User user = new User();
        user.setName(userDto.name());
        user.setEmail(userDto.email());
        user.setPassword(userDto.password());

        UUID uuid = UUID.randomUUID();
        user.setId(uuid);
        user.setCreatedAt(new Timestamp(System.currentTimeMillis()).toLocalDateTime());
        user.setUpdatedAt(new Timestamp(System.currentTimeMillis()).toLocalDateTime());
        return userRepository.save(uuid, user);
    }

    public User getUserById(UUID id) {
        return userRepository.findById(id, null).orElse(null);
    }

    public User updateUser(UUID id, User user) {
        return userRepository.update(id, user);
    }

    public Boolean deleteUser(UUID id, User user) {
        return userRepository.delete(id, user);
    }

    public void listAllUsers() {
        userRepository.findAll().forEach(System.out::println);
    }
}</code></pre>
<p><strong>Por qu√© esta separaci√≥n:</strong> la <code>service</code> no conoce la implementaci√≥n concreta del repositorio ‚Äî se inyecta mediante el constructor (Dependency Injection manual).</p>
<p><strong>Preguntas para entender el c√≥digo:</strong></p>
<ol>
<li>
<p>¬øCu√°l es la responsabilidad principal de la clase <code>UserService</code>?</p>
</li>
<li>
<p>La responsabilidad principal de la clase <code>UserService</code> es manejar la l√≥gica de negocio relacionada con la entidad <code>User</code>. Proporciona m√©todos para crear, obtener, actualizar, eliminar y listar usuarios, utilizando un repositorio gen√©rico para interactuar con la capa de persistencia.</p>
</li>
<li>
<p>¬øC√≥mo se inyecta el repositorio en el servicio y por qu√© es importante?</p>
</li>
<li>
<p>El repositorio se inyecta en el servicio a trav√©s del constructor de la clase <code>UserService</code>. Esto es importante porque permite la inversi√≥n de dependencias, lo que significa que el servicio no depende de una implementaci√≥n concreta del repositorio. En su lugar, puede trabajar con cualquier implementaci√≥n que cumpla con la interfaz <code>GenericRepository</code>, lo que mejora la flexibilidad y facilita las pruebas unitarias.</p>
</li>
<li>
<p>¬øQu√© hace el m√©todo <code>createUser</code> y c√≥mo utiliza el DTO <code>RegisterUserDto</code>?</p>
</li>
<li>
<p>El m√©todo <code>createUser</code> crea una nueva instancia de <code>User</code> utilizando los datos proporcionados en el DTO <code>RegisterUserDto</code>. Asigna los valores del DTO a los atributos correspondientes del usuario, genera un UUID √∫nico para el ID del usuario, establece las marcas de tiempo de creaci√≥n y actualizaci√≥n, y luego guarda el usuario en el repositorio utilizando el m√©todo <code>save</code>. Finalmente, devuelve la instancia del usuario creado.</p>
</li>
<li>
<p>¬øC√≥mo funcionan los m√©todos <code>getUserById</code>, <code>updateUser</code>, <code>deleteUser</code> y <code>listAllUsers</code>?</p>
</li>
<li>
<p><code>getUserById</code>: Busca un usuario en el repositorio por su ID utilizando el m√©todo <code>findById</code> del repositorio. Si el usuario no se encuentra, devuelve <code>null</code>.</p>
</li>
<li><code>updateUser</code>: Actualiza un usuario existente en el repositorio utilizando el m√©todo <code>update</code> del repositorio y devuelve la instancia actualizada del usuario.</li>
<li><code>deleteUser</code>: Elimina un usuario del repositorio utilizando el m√©todo <code>delete</code> del repositorio y devuelve un booleano que indica si la eliminaci√≥n fue exitosa.</li>
<li>
<p><code>listAllUsers</code>: Recupera todos los usuarios del repositorio utilizando el m√©todo <code>findAll</code> y los imprime en la consola.</p>
</li>
<li>
<p>¬øQu√© ventajas ofrece tener una capa de servicio separada de la capa de repositorio?</p>
</li>
<li>
<p>Tener una capa de servicio separada ofrece varias ventajas:</p>
</li>
<li><strong>Separaci√≥n de responsabilidades:</strong> La capa de servicio se encarga de la l√≥gica de negocio, mientras que la capa de repositorio se encarga de la persistencia de datos. Esto facilita el mantenimiento y la evoluci√≥n del c√≥digo.</li>
<li><strong>Reutilizaci√≥n:</strong> La l√≥gica de negocio puede ser reutilizada en diferentes contextos sin depender de la implementaci√≥n espec√≠fica del repositorio.</li>
<li><strong>Facilidad para pruebas unitarias:</strong> La capa de servicio puede ser probada de manera aislada utilizando mocks o stubs para el repositorio, lo que facilita la detecci√≥n y correcci√≥n de errores.</li>
<li>
<p><strong>Flexibilidad:</strong> Permite cambiar la implementaci√≥n del repositorio (por ejemplo, cambiar a una base de datos real) sin afectar la l√≥gica de negocio en la capa de servicio.</p>
</li>
<li>
<p>¬øC√≥mo maneja el servicio la creaci√≥n de IDs y las marcas de tiempo para los usuarios?</p>
</li>
<li>
<p>El servicio genera un ID √∫nico para cada usuario utilizando <code>UUID.randomUUID()</code> cuando se crea un nuevo usuario en el m√©todo <code>createUser</code>. Adem√°s, establece las marcas de tiempo de creaci√≥n y actualizaci√≥n utilizando la clase <code>Timestamp</code> para obtener la hora actual y convertirla a <code>LocalDateTime</code>. Estas marcas de tiempo se asignan a los atributos <code>createdAt</code> y <code>updatedAt</code> del usuario antes de guardarlo en el repositorio.</p>
</li>
<li>
<p>¬øQu√© tipo de objeto devuelve el m√©todo <code>getUserById</code> si no encuentra un usuario con el ID proporcionado?</p>
</li>
<li>
<p>Si el m√©todo <code>getUserById</code> no encuentra un usuario con el ID proporcionado, devuelve <code>null</code>. Esto se debe a que utiliza el m√©todo <code>orElse(null)</code> en el resultado del repositorio, que devuelve <code>null</code> si el <code>Optional</code> est√° vac√≠o (es decir, si no se encontr√≥ ning√∫n usuario con ese ID).</p>
</li>
<li>
<p>¬øC√≥mo se asegura el servicio de que los datos del usuario est√©n completos antes de guardarlos en el repositorio?</p>
</li>
<li>
<p>El servicio no realiza validaciones expl√≠citas para asegurarse de que los datos del usuario est√©n completos antes de guardarlos en el repositorio. Sin embargo, se espera que el DTO <code>RegisterUserDto</code> proporcione todos los datos necesarios (nombre, correo electr√≥nico y contrase√±a) al crear un nuevo usuario. Si se requiere una validaci√≥n m√°s estricta, se podr√≠an agregar verificaciones adicionales en el m√©todo <code>createUser</code> para asegurarse de que los campos no est√©n vac√≠os o nulos antes de proceder con la creaci√≥n del usuario.</p>
</li>
<li>
<p>¬øQu√© patr√≥n de dise√±o se est√° utilizando al inyectar el repositorio en el servicio a trav√©s del constructor?</p>
</li>
<li>
<p>El patr√≥n de dise√±o que se est√° utilizando al inyectar el repositorio en el servicio a trav√©s del constructor es el <strong>Patr√≥n de Inversi√≥n de Dependencias (Dependency Injection)</strong>. Este patr√≥n permite que las dependencias (en este caso, el repositorio) sean proporcionadas al objeto (el servicio) desde el exterior, en lugar de que el objeto cree o gestione sus propias dependencias. Esto mejora la modularidad, facilita las pruebas unitarias y permite una mayor flexibilidad en la elecci√≥n de las implementaciones de las dependencias.</p>
</li>
</ol>
<p>Bien hasta este punto de seguro tendra algunos errores que, en especidifco en la funcion <code>createUser</code>, esto se debe a que estamos usando un DTO que aun no hemos creado, para ello cree la carpeta <code>dto</code> dentro de <code>com.miniorm</code> si no existe.</p>
<p>Pero ahora que demonios, que es un DTO?</p>
<p>DTO significa "Data Transfer Object" (Objeto de Transferencia de Datos). Es un patr√≥n de dise√±o utilizado para transferir datos entre diferentes capas o componentes de una aplicaci√≥n, especialmente en aplicaciones distribuidas o basadas en servicios.</p>
<p>Entonces cree el siguiente archivo dentro de la carpeta <code>dto</code>:</p>
<ol>
<li><code>RegisterUserDto.java</code> y copie el siguiente codigo:</li>
</ol>
<pre class="highlight"><code class="language-java">package com.miniorm.dto;

public record RegisterUserDto(String name, String email, String password) {}</code></pre>
<ul>
<li>Aqu√≠ usamos un <code>record</code> de Java (disponible desde Java 14) para definir un DTO inmutable y conciso.</li>
<li>Un <code>record</code> es una clase especial en Java que est√° dise√±ada para ser una simple portadora de datos. Proporciona autom√°ticamente implementaciones para m√©todos comunes como <code>equals()</code>, <code>hashCode()</code>, y <code>toString()</code>, as√≠ como constructores y getters para sus componentes.</li>
<li><code>public record RegisterUserDto(String name, String email, String password) {}</code>: Define un <code>record</code> llamado <code>RegisterUserDto</code> con tres componentes: <code>name</code>, <code>email</code> y <code>password</code>. Estos componentes son inmutables y se inicializan a trav√©s del constructor generado autom√°ticamente.</li>
</ul>
<h2 id="8-implementamos-la-capa-de-presentacion-cli-demo">8: Implementamos la capa de presentaci√≥n (CLI demo)<a class="headerlink" href="#8-implementamos-la-capa-de-presentacion-cli-demo" title="Permanent link">¬∂</a></h2>
<p>Dentro de la carpeta <code>app</code>, cree el siguiente archivo:</p>
<ol>
<li><code>Main.java</code> y copie el siguiente codigo:</li>
</ol>
<pre class="highlight"><code class="language-java">package com.miniorm.app;

import com.miniorm.core.EntityManager;
import com.miniorm.dto.RegisterUserDto;
import com.miniorm.models.Product;
import com.miniorm.models.User;
import com.miniorm.service.ProductService;
import com.miniorm.service.UserService;

public class Main {
    public static void main(String[] args) {
        EntityManager entityManager = new EntityManager();
        UserService userService = new UserService(entityManager.getRepository(User.class));

        userService.createUser(new RegisterUserDto("John Doe", "john.doe@example.com", "password123"));
        userService.createUser(new RegisterUserDto("Jane Smith", "jane.smith@gmail.com", "securepass"));

        userService.listAllUsers();
        System.out.println("--- Products ---");

    }
}</code></pre>
<p>Al ejecutar este c√≥digo, deber√≠a ver en la consola la lista de usuarios creados, similar a la siguiente salida:</p>
<pre class="highlight"><code class="language-java">ID: c40b46d2-3436-407b-baa7-c0b25d61e3fb,
User: User {
    id='c40b46d2-3436-407b-baa7-c0b25d61e3fb',
    name='Jane Smith',
    email='jane.smith@gmail.com',
    password='securepass',
    createdAt='2025-10-06T23:52:40.112',
    updatedAt='2025-10-06T23:52:40.112'
}
ID: d94a73fb-1048-4270-a31c-ee2b19e72ec7,
User: User {
    id='d94a73fb-1048-4270-a31c-ee2b19e72ec7',
    name='John Doe',
    email='john.doe@example.com',
    password='password123',
    createdAt='2025-10-06T23:52:40.100',
    updatedAt='2025-10-06T23:52:40.109'
}
--- Products ---</code></pre>
<ul>
<li>Aqu√≠ usamos el <code>EntityManager</code> para obtener un repositorio de <code>User</code> y lo inyectamos en el <code>UserService</code>.</li>
<li>Luego, creamos algunos usuarios y listamos todos los usuarios almacenados.</li>
<li>Puede expandir esta demo agregando m√°s funcionalidades, como actualizar o eliminar usuarios, o creando y gestionando productos usando un <code>ProductService</code> similar.</li>
</ul>
<h2 id="10-evaluacion-final">10: Evaluaci√≥n final<a class="headerlink" href="#10-evaluacion-final" title="Permanent link">¬∂</a></h2>
<p>En esta secci√≥n usted deber√° hacer lo siguiente:</p>
<ol>
<li>Extender el proyecto para soportar otra entidad, por ejemplo, <code>Product</code> con atributos como <code>id</code>, <code>name</code>, <code>price</code>, <code>createdAt</code>, <code>updatedAt</code>.</li>
<li>Implementar un <code>ProductService</code> similar a <code>UserService</code> para manejar operaciones CRUD sobre productos.</li>
<li>Crear un DTO para registrar productos, similar a <code>RegisterUserDto</code>.</li>
<li>Modificar la clase <code>Main</code> para demostrar la creaci√≥n, actualizaci√≥n, eliminaci√≥n y listado de productos adem√°s de usuarios, se recomienda que lo hagas debajo de la l√≠nea <code>System.out.println("--- Products ---");</code>.</li>
<li>Documentar el proyecto en el archivo <code>README.md</code>, explicando la arquitectura, c√≥mo ejecutar la aplicaci√≥n y cualquier otro detalle relevante.</li>
</ol>
<h1 id="ejercicio-2-miniorm-con-spring-boot">Ejercicio 2: üß≠ Mini‚ÄëORM con Spring Boot<a class="headerlink" href="#ejercicio-2-miniorm-con-spring-boot" title="Permanent link">¬∂</a></h1>
<p>En este ejercicio usted debera replicar el ejercicio anterior pero usando Spring Boot, para ello le dejo los siguientes pasos a seguir:</p>
<ol>
<li>
<p>Cree un nuevo proyecto Spring Boot usando Spring Initializr (https://start.spring.io/) con las siguientes dependencias:</p>
</li>
<li>
<p>Spring Web</p>
</li>
<li>Spring Data JPA</li>
<li>Simule una base de datos en memoria usando (Map, List, etc.) segun su criterio</li>
<li>
<p>Lombok</p>
</li>
<li>
<p>Replicar la estructura de carpetas y archivos del ejercicio anterior.</p>
</li>
<li>Implementar las mismas funcionalidades (entidades, repositorios, servicios, controladores)</li>
<li>Probar la aplicaci√≥n usando Postman o cualquier otra herramienta para hacer peticiones HTTP.</li>
<li>Documentar el proyecto en el archivo <code>README.md</code>, explicando la arquitectura, c√≥mo ejecutar la aplicaci√≥n y cualquier otro detalle relevante.</li>
<li>Subir el proyecto a un repositorio de GitHub y compartir el enlace en classroom.</li>
</ol>
<h1 id="conclusion">Conclusi√≥n<a class="headerlink" href="#conclusion" title="Permanent link">¬∂</a></h1>
<p>En esta pr√°ctica, hemos explorado los fundamentos de Spring Boot y c√≥mo construir una aplicaci√≥n sencilla utilizando sus caracter√≠sticas principales. Hemos aprendido a configurar un entorno de desarrollo, crear un proyecto Spring Boot, y desarrollar una aplicaci√≥n que incluye controladores, servicios y repositorios. Adem√°s, hemos visto c√≥mo utilizar herramientas modernas como Lombok y Maven para mejorar nuestra productividad y gestionar dependencias de manera eficiente.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright ¬© 2025 by K3V1N 117</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../javascripts/mathjax.js"></script>
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../../javascripts/katex.js"></script>
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
        <script src="../../javascripts/tablesort.js"></script>

        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    

<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
</script></body></html>